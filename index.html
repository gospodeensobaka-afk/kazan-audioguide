<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mini Audio Guide</title>

    <link rel="stylesheet" href="styles.css">

    <!-- MapLibre -->
    <link href="https://unpkg.com/maplibre-gl@3.6.1/dist/maplibre-gl.css" rel="stylesheet" />
    <script src="https://unpkg.com/maplibre-gl@3.6.1/dist/maplibre-gl.js"></script>

    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º JS –ü–û–°–õ–ï DOM -->
    <script src="app.js" defer></script>
</head>

<body>

<!-- === VIDEO OVERLAY (–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π) === -->
<div id="videoOverlay"
     style="
        position:fixed;
        inset:0;
        background:rgba(0,0,0,0.9);
        display:none;
        justify-content:center;
        align-items:center;
        z-index:1000001;
     ">
    <video id="videoElement"
           style="max-width:100%; max-height:100%;"
           controls></video>

    <button id="closeVideoBtn"
            style="
                position:absolute;
                top:20px;
                right:20px;
                width:40px;
                height:40px;
                border-radius:20px;
                border:none;
                background:rgba(255,255,255,0.8);
                font-size:24px;
                cursor:pointer;
                z-index:1000002;
            ">
        √ó
    </button>
</div>
<!-- === END VIDEO OVERLAY === -->


<audio id="globalAudio" controls autoplay preload="auto"></audio>

<div id="buildIndicator"
     style="
        position:absolute;
        bottom:10px;
        right:10px;
        background:rgba(0,0,0,0.55);
        color:white;
        padding:4px 10px;
        border-radius:6px;
        font-size:12px;
        z-index:999999;
        backdrop-filter:blur(4px);
     ">
  build: loading‚Ä¶
</div>

<button id="startTourBtn"
        style="
            position:absolute;
            top:50%;
            left:50%;
            transform:translate(-50%, -50%);
            padding:16px 28px;
            font-size:18px;
            border-radius:12px;
            background:#007aff;
            color:white;
            border:none;
            z-index:999999;
            pointer-events:auto;
        ">
    –ù–∞—á–∞—Ç—å —ç–∫—Å–∫—É—Ä—Å–∏—é
</button>

<div id="tourProgress"
     style="
        position:absolute;
        top:10px;
        right:10px;
        background:rgba(0,0,0,0.55);
        color:white;
        padding:6px 12px;
        border-radius:8px;
        font-size:14px;
        z-index:999999;
        backdrop-filter:blur(4px);
     ">
    –ü—Ä–æ–π–¥–µ–Ω–æ: 0 –∏–∑ 0
</div>

<div id="map"></div>

<!-- === NOT READY BUTTON === -->
<button id="notReadyBtn"
        style="
            position:absolute;
            bottom:20px;
            right:20px;
            padding:10px 14px;
            background:white;
            border-radius:8px;
            border:none;
            font-size:14px;
            z-index:999999;
        ">
    –ù–µ —É—Å–ø–µ–≤–∞—é
</button>

<!-- === PHOTO OVERLAY FULLSCREEN === -->
<div id="photoOverlay"
     style="
        position:fixed;
        inset:0;
        background:rgba(0,0,0,0.9);
        display:none;
        justify-content:center;
        align-items:center;
        z-index:1000002;
     ">
    <img id="photoImage"
         style="
            max-width:100%;
            max-height:100%;
            object-fit:contain;
         ">
</div>

<!-- –ö–Ω–æ–ø–∫–∞ —Ñ–æ—Ç–æ (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –Ω–æ –æ—Å—Ç–∞–≤–ª–µ–Ω–∞) -->
<button id="togglePhotoBtn" class="photo-btn" style="display:none;">
  üì∑ –ü–æ–∫–∞–∑–∞—Ç—å —Ñ–æ—Ç–æ
</button>

<!-- === SIMULATION BUTTON === -->
<button id="simulate"
        style="position:absolute; top:10px; left:10px; z-index:999999;">
    –°–∏–º—É–ª—è—Ü–∏—è
</button>

<!-- === ENABLE AUDIO === -->
<button id="enableAudio"
        style="top: 60px; left: 10px; position: absolute; z-index: 10;">
    –í–∫–ª—é—á–∏—Ç—å –∑–≤—É–∫
</button>

<!-- === ENABLE COMPASS === -->
<button id="enableCompass"
        style="top: 110px; left: 10px; position: absolute; z-index: 10;">
    –í–∫–ª—é—á–∏—Ç—å –∫–æ–º–ø–∞—Å
</button>

<!-- === GALLERY OVERLAY === -->
<div id="galleryOverlay"
     style="
        position:fixed;
        bottom:20px;
        left:50%;
        transform:translateX(-50%);
        width:320px;
        background:rgba(0,0,0,0.75);
        backdrop-filter:blur(10px);
        border-radius:18px;
        padding:12px;
        display:none;
        flex-direction:row;
        gap:10px;
        z-index:1000000;
     ">
</div>

</body>
</html>
