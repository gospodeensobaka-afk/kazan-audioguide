<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mini Audio Guide</title>

    <link rel="stylesheet" href="styles.css">

    <!-- MapLibre -->
    <link href="https://unpkg.com/maplibre-gl@3.6.1/dist/maplibre-gl.css" rel="stylesheet" />
    <script src="https://unpkg.com/maplibre-gl@3.6.1/dist/maplibre-gl.js"></script>

    <!-- CORE SCRIPTS (подключаем ОДИН раз!) -->
    <script src="app.core.js"></script>
    <script src="app.experimental.js"></script>
</head>

<body>
   <div id="audioWrapper">
    <audio id="globalAudio" controls preload="auto"></audio>
</div>

    <!-- Кнопка начала экскурсии -->
   <button id="startTourBtn" class="ui-editable"
        style="
            position:absolute;
            top:50%;
            left:50%;
            transform:translate(-50%, -50%);
            z-index:999999;
        ">
        Начать экскурсию
    </button>

    <!-- Прогресс -->
    <div id="tourProgress"
     style="
        position:absolute;
        top:10px;
        right:10px;
        background:rgba(0,0,0,0.55);
        color:white;
        padding:6px 12px;
        border-radius:8px;
        font-size:14px;
        z-index:999999;
        backdrop-filter:blur(4px);
     ">
        Пройдено: 0 из 0
    </div>

    <div id="map"></div>

    <!-- Фото оверлей -->
    <div id="photoOverlay" class="photo-overlay hidden">
      <div class="photo-inner">
        <img id="photoImage" src="">
        <button id="closePhotoBtn" class="close-photo-btn">✕</button>
      </div>
    </div>

    <!-- Галерея -->
    <div id="galleryOverlay" class="hidden" style="
        position: fixed;
        inset: 0;
        background: rgba(0,0,0,0.85);
        display: flex;
        flex-wrap: wrap;
        gap: 12px;
        padding: 20px;
        justify-content: center;
        align-items: flex-start;
        overflow-y: auto;
        z-index: 200000;
    "></div>

    <!-- Кнопки управления -->
    <button id="simulate" class="control-btn ui-editable">Симуляция</button>
    <button id="enableCompass" class="control-btn ui-editable">Включить компас</button>
    <button id="notReadyBtn" class="control-btn ui-editable">Не успеваю</button>

    <!-- Кнопка UI‑редактора -->
   <button id="uiEditorToggle" class="control-btn ui-editable">
        UI
    </button>

</body>
</html>




